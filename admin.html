<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin | COVASOL</title>
    <meta name="robots" content="noindex,nofollow">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="admin-page">
    <main>
        <section class="admin-login" id="loginSection">
            <div class="login-card">
                <div class="login-header">
                    <img src="assets/img/logo.png" alt="COVASOL Logo">
                    <h1>Ðang nh?p qu?n tr?</h1>
                    <p>Khu v?c n?i b? dành cho d?i ngu COVASOL.</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginUsername">Tên dang nh?p</label>
                        <input type="text" id="loginUsername" required autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">M?t kh?u</label>
                        <input type="password" id="loginPassword" required autocomplete="current-password">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Ðang nh?p</button>
                    <p class="form-help" id="loginError"></p>
                </form>
            </div>
        </section>

        <section class="admin-dashboard is-hidden" id="dashboardSection">
            <header class="dashboard-header">
                <div class="dashboard-brand">
                    <h1>Dashboard</h1>
                    <span id="currentUserLabel">Ðang dang nh?p</span>
                </div>
                <div class="dashboard-actions">
                    <button class="btn btn-outline" id="changePasswordBtn">
                        <i class="fas fa-key"></i><span>Ð?i m?t kh?u</span>
                    </button>
                    <button class="btn btn-primary" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i><span>Ðang xu?t</span>
                    </button>
                </div>
            </header>

            <div class="dashboard-banner">
                <i class="fas fa-circle-info"></i>
                <span>B?ng di?u khi?n dang du?c b?o trì d?nh k?.</span>
            </div>

            <div class="dashboard-tabs">
                <button class="tab-btn active" data-tab="blogTab"><i class="fas fa-newspaper"></i> Blog</button>
                <button class="tab-btn" data-tab="productTab"><i class="fas fa-cubes"></i> S?n ph?m</button>
                <button class="sidebar-button" id="refreshDataBtn">
                    <i class="fas fa-sync-alt"></i>
                    <span>Làm m?i d? li?u</span>
                </button>
            </div>

            <div class="tab-panel" id="blogTab">
                <div class="tab-grid">
                    <div class="list-card">
                        <div class="card-heading">
                            <h2>Bài vi?t</h2>
                            <span id="blogCount">0 bài vi?t</span>
                        </div>
                        <div class="table-wrapper">
                            <table class="admin-table" id="blogTable">
                                <thead>
                                    <tr>
                                        <th>Mã</th>
                                        <th>Tiêu d?</th>
                                        <th>Chuyên m?c</th>
                                        <th>Ngày dang</th>
                                        <th>Thao tác</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-card">
                        <div class="card-heading">
                            <h2 id="blogFormTitle">Thêm bài vi?t</h2>
                            <button class="btn btn-link" id="resetBlogForm">
                                <i class="fas fa-undo"></i> T?o m?i
                            </button>
                        </div>
                        <form id="blogForm">
                            <h3 class="form-section-title">Thông tin hiển thị danh sách</h3>
                            <p class="form-section-note">Các trường này được dùng cho danh sách blog và phần xem nhanh trên trang chủ.</p>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="blogCode">Mã bài vi?t</label>
                                    <input type="text" id="blogCode" required>
                                </div>
                                <div class="form-group">
                                    <label for="blogTitle">Tiêu d?</label>
                                    <input type="text" id="blogTitle" required>
                                </div>
                                <div class="form-group">
                                    <label for="blogSubtitle">Ph? d?</label>
                                    <input type="text" id="blogSubtitle">
                                </div>
                                <div class="form-group">
                                    <label for="blogCategory">Chuyên m?c</label>
                                    <input type="text" id="blogCategory" placeholder="Ví d?: Digital Transformation">
                                </div>
                                <div class="form-group">
                                    <label for="blogImage">?nh d?i di?n (URL)</label>
                                    <input type="url" id="blogImage">
                                </div>
                                <div class="form-group">
                                    <label for="blogPublishedAt">Ngày dang</label>
                                    <input type="datetime-local" id="blogPublishedAt">
                                </div>
                            </div>
                            <h3 class="form-section-title">Nội dung chi tiết</h3>
                            <p class="form-section-note">Thông tin này hiển thị trên trang chi tiết bài viết và các khu vực xem trước.</p>
                            <div class="form-group">
                                <label for="blogExcerpt">Tóm t?t</label>
                                <textarea id="blogExcerpt" rows="2"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="blogContent">N?i dung</label>
                                <textarea id="blogContent" rows="6" required></textarea>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="blogTags">Tags (ngan cách d?u ph?y)</label>
                                    <input type="text" id="blogTags">
                                </div>
                                <div class="form-group">
                                    <label for="blogKeywords">Keywords (ngan cách d?u ph?y)</label>
                                    <input type="text" id="blogKeywords">
                                </div>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="blogAuthor">Ngu?i dang</label>
                                    <input type="text" id="blogAuthor">
                                </div>
                                <div class="form-group">
                                    <label for="blogAuthorRole">Ch?c v?</label>
                                    <input type="text" id="blogAuthorRole">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="blogSubmitBtn">Luu bài vi?t</button>
                            </div>
                            <p class="form-help" id="blogFormMessage"></p>
                        </form>
                    </div>
                </div>
            </div>

            <div class="tab-panel is-hidden" id="productTab">
                <div class="tab-grid">
                    <div class="list-card">
                        <div class="card-heading">
                            <h2>S?n ph?m</h2>
                            <span id="productCount">0 s?n ph?m</span>
                        </div>
                        <div class="table-wrapper">
                            <table class="admin-table" id="productTable">
                                <thead>
                                    <tr>
                                        <th>Mã</th>
                                        <th>Tên</th>
                                        <th>Danh m?c</th>
                                        <th>Tr?ng thái</th>
                                        <th>Thao tác</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-card">
                        <div class="card-heading">
                            <h2 id="productFormTitle">Thêm s?n ph?m</h2>
                            <button class="btn btn-link" id="resetProductForm">
                                <i class="fas fa-undo"></i> T?o m?i
                            </button>
                        </div>
                        <form id="productForm">
                            <h3 class="form-section-title">Thông tin hiển thị danh sách</h3>
                            <p class="form-section-note">Các trường này xuất hiện trên danh sách sản phẩm và khu vực nổi bật ở trang chủ.</p>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="productCode">Mã s?n ph?m</label>
                                    <input type="text" id="productCode" required>
                                </div>
                                <div class="form-group">
                                    <label for="productNameInput">Tên s?n ph?m</label>
                                    <input type="text" id="productNameInput" required>
                                </div>
                                <div class="form-group">
                                    <label for="productCategoryInput">Danh m?c</label>
                                    <input type="text" id="productCategoryInput">
                                </div>
                                <div class="form-group">
                                    <label for="productImage">?nh minh h?a (URL)</label>
                                    <input type="url" id="productImage">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="productSummary">Mô t? ng?n</label>
                                <textarea id="productSummary" rows="2"></textarea>
                            </div>
                            <h3 class="form-section-title">Nội dung chi tiết</h3>
                            <p class="form-section-note">Mô tả dài, tính năng và điểm nổi bật sẽ xuất hiện trên trang chi tiết sản phẩm.</p>
                            <div class="form-group">
                                <label for="productDescription">Mô t? chi ti?t</label>
                                <textarea id="productDescription" rows="6" required></textarea>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="productFeatures">Tính nang (ngan cách d?u ph?y)</label>
                                    <input type="text" id="productFeatures">
                                </div>
                                <div class="form-group">
                                    <label for="productHighlights">Ði?m n?i b?t (m?i dòng m?t m?c)</label>
                                    <textarea id="productHighlights" rows="3"></textarea>
                                </div>
                            </div>
                            <h3 class="form-section-title">Liên kết hành động</h3>
                            <p class="form-section-note">Các nút kêu gọi hành động xuất hiện trên trang chi tiết và danh sách.</p>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="productPrimaryLabel">CTA chính</label>
                                    <input type="text" id="productPrimaryLabel" placeholder="Ví d?: Ðang ký demo">
                                </div>
                                <div class="form-group">
                                    <label for="productPrimaryUrl">Link CTA chính</label>
                                    <input type="text" id="productPrimaryUrl" placeholder="https://... ho?c #anchor">
                                </div>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="productSecondaryLabel">CTA ph?</label>
                                    <input type="text" id="productSecondaryLabel" placeholder="Ví d?: T?i brochure">
                                </div>
                                <div class="form-group">
                                    <label for="productSecondaryUrl">Link CTA ph?</label>
                                    <input type="text" id="productSecondaryUrl">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="productSubmitBtn">Luu s?n ph?m</button>
                            </div>
                            <p class="form-help" id="productFormMessage"></p>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div class="modal-backdrop is-hidden" id="changePasswordModal">
        <div class="modal-card">
            <div class="modal-header">
                <h2>Ð?i m?t kh?u</h2>
                <button class="modal-close" id="closeChangePasswordBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="changePasswordForm" class="modal-body">
                <div class="form-group">
                    <label for="currentPassword">M?t kh?u hi?n t?i</label>
                    <input type="password" id="currentPassword" required autocomplete="current-password">
                </div>
                <div class="form-group">
                    <label for="newPassword">M?t kh?u m?i</label>
                    <input type="password" id="newPassword" required minlength="8" autocomplete="new-password">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Xác nh?n m?t kh?u m?i</label>
                    <input type="password" id="confirmPassword" required minlength="8" autocomplete="new-password">
                </div>
                <p class="form-help" id="changePasswordMessage"></p>
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" id="cancelChangePasswordBtn">H?y</button>
                    <button type="submit" class="btn btn-primary">C?p nh?t</button>
                </div>
            </form>
        </div>
    </div>

    <script src="assets/js/data-service.js"></script>
    <script src="assets/js/admin.js"></script>
</body>
</html>
